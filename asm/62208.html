<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Skool Daze: Routine at 62208</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../sd.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a class="link" href="../index.html"><img alt="Skool Daze" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a class="link" href="62197.html">62197</a></span></td>
<td class="up">Up: <a class="link" href="../maps/all.html#62208">Map</a></td>
<td class="next"><span class="next-1">Next: <a class="link" href="62453.html">62453</a></span></td>
</tr>
</table>
<div class="description">62208: Make a teacher conduct a class with ERIC</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">
<div class="paragraph">
Continues from the routine at <a class="link" href="32178.html">32178</a>. Makes a teacher conduct a class with ERIC, from the point of reaching the left edge of the blackboard or map (where the teacher waits for EINSTEIN to show up) until the end of the lesson.
</div>
</div>
<table class="input-1">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">H</td>
<td class="register-desc">Teacher's character number (163-166)</td>
</tr>
</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62208"></a>62208</td>
<td class="instruction">CALL <a class="link" href="31952.html">31952</a></td>
<td class="comment-11" rowspan="1">Make the teacher wait for EINSTEIN to sit down</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62211"></a>62211</td>
<td class="instruction">JR Z,62252</td>
<td class="comment-11" rowspan="1">Jump if ERIC is in the room</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<a name="62213"></a>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a class="link" href="62464.html">62464</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62213"></a>62213</td>
<td class="instruction">LD BC,61699</td>
<td class="comment-11" rowspan="1"><a class="link" href="61699.html">61699</a>: 'Please Sir...ERIC is not here'</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62216"></a>62216</td>
<td class="instruction">CALL <a class="link" href="31919.html">31919</a></td>
<td class="comment-11" rowspan="1">Make EINSTEIN say this</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62219"></a>62219</td>
<td class="instruction">CALL <a class="link" href="31968.html">31968</a></td>
<td class="comment-11" rowspan="1">Make the teacher give lines to EINSTEIN for telling tales (if he's in the mood)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62222"></a>62222</td>
<td class="instruction">CALL <a class="link" href="31996.html">31996</a></td>
<td class="comment-11" rowspan="1">Make the teacher tell the kids to read their books</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62225"></a>62225</td>
<td class="instruction">CALL <a class="link" href="31188.html">31188</a></td>
<td class="comment-11" rowspan="1">Set the zero flag if ERIC is in class</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62228"></a>62228</td>
<td class="instruction">LD A,(32712)</td>
<td class="comment-11" rowspan="1">Collect the lesson status flags from <a class="link" href="32712.html">32712</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62231"></a>62231</td>
<td class="instruction">JR Z,62241</td>
<td class="comment-11" rowspan="1">Jump if ERIC is in class</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62233"></a>62233</td>
<td class="instruction">SET 7,A</td>
<td class="comment-11" rowspan="2">Set bit 7 at <a class="link" href="32712.html">32712</a>, indicating that the next lines message for absence (if any) should be no. <a class="link" href="56800.html">11</a> (AND STAY THIS TIME)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62235"></a>62235</td>
<td class="instruction">LD (32712),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62238"></a>62238</td>
<td class="instruction">JP <a class="link" href="31854.html#31867">31867</a></td>
<td class="comment-11" rowspan="1">Make the teacher track down ERIC</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62241"></a>62241</td>
<td class="instruction">RLCA</td>
<td class="comment-11" rowspan="1">Set the carry flag if the absence lines reprimand should be...</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62242"></a>62242</td>
<td class="instruction">LD B,11</td>
<td class="comment-11" rowspan="1">...<a class="link" href="56800.html">11</a>: AND STAY THIS TIME</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62244"></a>62244</td>
<td class="instruction">JR C,62247</td>
<td class="comment-11" rowspan="1">Jump if this is the appropriate lines reprimand</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62246"></a>62246</td>
<td class="instruction">DEC B</td>
<td class="comment-11" rowspan="1"><span class="register">B</span>=<a class="link" href="56768.html">10</a>: NEVER BE LATE AGAIN</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62247"></a>62247</td>
<td class="instruction">LD A,172</td>
<td class="comment-11" rowspan="1">172=ERIC</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62249"></a>62249</td>
<td class="instruction">CALL <a class="link" href="31904.html#31908">31908</a></td>
<td class="comment-11" rowspan="1">Give lines to ERIC</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<a name="62252"></a>
<div class="comments">
<div class="paragraph">
ERIC is in class now.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62252"></a>62252</td>
<td class="instruction">LD A,(32712)</td>
<td class="comment-11" rowspan="3">Set bit 7 (indicating that the next absence lines message should be 'AND STAY THIS TIME') and bit 6 (indicating that the lesson has started) at <a class="link" href="32712.html">32712</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62255"></a>62255</td>
<td class="instruction">OR 192</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62257"></a>62257</td>
<td class="instruction">LD (32712),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62260"></a>62260</td>
<td class="instruction">CALL <a class="link" href="31952.html">31952</a></td>
<td class="comment-11" rowspan="1">Is ERIC in class?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62263"></a>62263</td>
<td class="instruction">JR NZ,62213</td>
<td class="comment-11" rowspan="1">Jump if not</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<a name="62265"></a>
<div class="comments">
<div class="paragraph">
This is EINSTEIN's opportunity to tell tales about hitting and blackboard defacement.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62265"></a>62265</td>
<td class="instruction">CALL <a class="link" href="24993.html">24993</a></td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=random number</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62268"></a>62268</td>
<td class="instruction">CP 226</td>
<td class="comment-11" rowspan="1">Should EINSTEIN tell the teacher that ERIC hit him?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62270"></a>62270</td>
<td class="instruction">JR C,62302</td>
<td class="comment-11" rowspan="1">Jump if not (226 times out of 256)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62272"></a>62272</td>
<td class="instruction">LD BC,61689</td>
<td class="comment-11" rowspan="1"><a class="link" href="61689.html">61689</a>: 'Please Sir...ERIC hit me'</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62275"></a>62275</td>
<td class="instruction">CP C</td>
<td class="comment-11" rowspan="1">The result of this comparison is ignored</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62276"></a>62276</td>
<td class="instruction">JR 62281</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62278"></a>62278</td>
<td class="instruction">LD BC,61741</td>
<td class="comment-11" rowspan="1">This instruction is never executed; anyway, <a class="link" href="61741.html">61741</a>='WHAT HAPPENED IN THE YEAR THAT I WAS BORN'</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62281"></a>62281</td>
<td class="instruction">CALL <a class="link" href="31919.html">31919</a></td>
<td class="comment-11" rowspan="1">Make EINSTEIN tell the teacher that ERIC hit him</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62284"></a>62284</td>
<td class="instruction">CALL <a class="link" href="31968.html">31968</a></td>
<td class="comment-11" rowspan="1">Make the teacher give lines to EINSTEIN for telling tales (if he's in the mood)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62287"></a>62287</td>
<td class="instruction">INC L</td>
<td class="comment-11" rowspan="1">Did the teacher give lines to EINSTEIN?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62288"></a>62288</td>
<td class="instruction">JR NZ,62297</td>
<td class="comment-11" rowspan="1">Jump if so</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62290"></a>62290</td>
<td class="instruction">LD B,8</td>
<td class="comment-11" rowspan="1">Lines reprimand <a class="link" href="56704.html">8</a>: NOW DON'T DO IT AGAIN</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62292"></a>62292</td>
<td class="instruction">LD A,172</td>
<td class="comment-11" rowspan="1">172=ERIC</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62294"></a>62294</td>
<td class="instruction">CALL <a class="link" href="31904.html#31908">31908</a></td>
<td class="comment-11" rowspan="1">Give ERIC lines</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62297"></a>62297</td>
<td class="instruction">CALL <a class="link" href="31952.html">31952</a></td>
<td class="comment-11" rowspan="1">Is ERIC in class?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62300"></a>62300</td>
<td class="instruction">JR NZ,62213</td>
<td class="comment-11" rowspan="1">Jump if not</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62302"></a>62302</td>
<td class="instruction">CALL <a class="link" href="28968.html">28968</a></td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=identifier of the blackboard closest to the teacher</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62305"></a>62305</td>
<td class="instruction">LD C,A</td>
<td class="comment-11" rowspan="1">Transfer this to <span class="register">C</span></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62306"></a>62306</td>
<td class="instruction">CP 236</td>
<td class="comment-11" rowspan="1">Are we on the top floor?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62308"></a>62308</td>
<td class="instruction">JR NZ,62316</td>
<td class="comment-11" rowspan="1">Jump if not</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62310"></a>62310</td>
<td class="instruction">INC L</td>
<td class="comment-11" rowspan="1"><span class="register">L</span>=98</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62311"></a>62311</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=teacher's x-coordinate</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62312"></a>62312</td>
<td class="instruction">CP 58</td>
<td class="comment-11" rowspan="1">Are we in the Map Room?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62314"></a>62314</td>
<td class="instruction">JR NC,62419</td>
<td class="comment-11" rowspan="1">Jump if so (no blackboard in there)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62316"></a>62316</td>
<td class="instruction">INC C</td>
<td class="comment-11" rowspan="2"><span class="register">BC</span>=<a class="link" href="32749.html">32749</a> (Reading Room blackboard), <a class="link" href="32751.html">32751</a> (White Room blackboard) or <a class="link" href="32753.html">32753</a> (Exam Room blackboard)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62317"></a>62317</td>
<td class="instruction">LD B,127</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62319"></a>62319</td>
<td class="instruction">LD A,(BC)</td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=number of the character who last wrote on the board</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62320"></a>62320</td>
<td class="instruction">AND A</td>
<td class="comment-11" rowspan="1">Is the board clean?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62321"></a>62321</td>
<td class="instruction">JR Z,62369</td>
<td class="comment-11" rowspan="1">Jump if so</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62323"></a>62323</td>
<td class="instruction">CP 167</td>
<td class="comment-11" rowspan="1">Did a teacher write on the board?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62325"></a>62325</td>
<td class="instruction">JR C,62369</td>
<td class="comment-11" rowspan="1">Jump if so</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62327"></a>62327</td>
<td class="instruction">JR NZ,62338</td>
<td class="comment-11" rowspan="1">Jump unless BOY WANDER wrote on the board</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62329"></a>62329</td>
<td class="instruction">CALL <a class="link" href="24993.html">24993</a></td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=random number</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62332"></a>62332</td>
<td class="instruction">CP 200</td>
<td class="comment-11" rowspan="1">Set the carry flag 200 times out of 256</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62334"></a>62334</td>
<td class="instruction">LD A,17</td>
<td class="comment-11" rowspan="1"><a class="link" href="55694.html">17</a>='BOY WANDER'</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62336"></a>62336</td>
<td class="instruction">JR C,62340</td>
<td class="comment-11" rowspan="1">Jump if EINSTEIN is going to blame BOY WANDER</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62338"></a>62338</td>
<td class="instruction">LD A,16</td>
<td class="comment-11" rowspan="1"><a class="link" href="55680.html">16</a>='ERIC'</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62340"></a>62340</td>
<td class="instruction">LD BC,61715</td>
<td class="comment-11" rowspan="2">Insert ERIC's or BOY WANDER's name into the 'X wrote on the blackboard' message at <a class="link" href="61714.html">61714</a></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62343"></a>62343</td>
<td class="instruction">LD (BC),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62344"></a>62344</td>
<td class="instruction">DEC C</td>
<td class="comment-11" rowspan="1">Point <span class="register">BC</span> at the start of the message</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62345"></a>62345</td>
<td class="instruction">CALL <a class="link" href="31919.html">31919</a></td>
<td class="comment-11" rowspan="1">Make EINSTEIN tell a tale about ERIC or BOY WANDER writing on the blackboard</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62348"></a>62348</td>
<td class="instruction">CALL <a class="link" href="31968.html">31968</a></td>
<td class="comment-11" rowspan="1">Make the teacher give lines to EINSTEIN for telling tales (if he's in the mood)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62351"></a>62351</td>
<td class="instruction">INC L</td>
<td class="comment-11" rowspan="1">Did the teacher give lines to EINSTEIN?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62352"></a>62352</td>
<td class="instruction">JR NZ,62369</td>
<td class="comment-11" rowspan="1">Jump if so</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62354"></a>62354</td>
<td class="instruction">LD A,(61715)</td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=<a class="link" href="55680.html">16</a> ('ERIC') or <a class="link" href="55694.html">17</a> ('BOY WANDER')</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62357"></a>62357</td>
<td class="instruction">RRCA</td>
<td class="comment-11" rowspan="1">Set the carry flag if EINSTEIN blamed BOY WANDER</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62358"></a>62358</td>
<td class="instruction">LD A,167</td>
<td class="comment-11" rowspan="1">167=BOY WANDER</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62360"></a>62360</td>
<td class="instruction">JR C,62364</td>
<td class="comment-11" rowspan="1">Jump if EINSTEIN blamed BOY WANDER for writing on the board</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62362"></a>62362</td>
<td class="instruction">LD A,172</td>
<td class="comment-11" rowspan="1">172=ERIC</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62364"></a>62364</td>
<td class="instruction">LD B,12</td>
<td class="comment-11" rowspan="1">Lines reprimand <a class="link" href="56960.html">12</a>: DON'T TOUCH BLACKBOARDS</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62366"></a>62366</td>
<td class="instruction">CALL <a class="link" href="31904.html#31908">31908</a></td>
<td class="comment-11" rowspan="1">Make the teacher give lines to ERIC or BOY WANDER</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<a name="62369"></a>
<div class="comments">
<div class="paragraph">
With EINSTEIN's tales now safely told, it's time to wipe the blackboard.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62369"></a>62369</td>
<td class="instruction">LD BC,29148</td>
<td class="comment-11" rowspan="2">Hand over control to the routine at <a class="link" href="29148.html">29148</a>, making the teacher wipe the blackboard</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62372"></a>62372</td>
<td class="instruction">CALL <a class="link" href="31985.html">31985</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<a name="62375"></a>
<div class="comments">
<div class="paragraph">
Control returns here after the teacher has wiped the blackboard.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62375"></a>62375</td>
<td class="instruction">LD L,98</td>
<td class="comment-11" rowspan="2"><span class="register">A</span>=teacher's x-coordinate (equal to that of the left edge of the blackboard)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62377"></a>62377</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62378"></a>62378</td>
<td class="instruction">ADD A,3</td>
<td class="comment-11" rowspan="5">Place the x-coordinate of the middle of the blackboard into byte 107 of the teacher's buffer, and the same value into byte 108 (which ensures that the routine at <a class="link" href="25404.html">25404</a> will not relinquish control before the teacher has reached the middle of the blackboard)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62380"></a>62380</td>
<td class="instruction">LD L,107</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62382"></a>62382</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62383"></a>62383</td>
<td class="instruction">INC L</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62384"></a>62384</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62385"></a>62385</td>
<td class="instruction">LD BC,25404</td>
<td class="comment-11" rowspan="2">Hand over control to the routine at <a class="link" href="25404.html">25404</a>, making the teacher walk to the middle of the blackboard</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62388"></a>62388</td>
<td class="instruction">CALL <a class="link" href="31985.html">31985</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<a name="62391"></a>
<div class="comments">
<div class="paragraph">
Control returns here when the teacher has walked to the middle of the blackboard.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62391"></a>62391</td>
<td class="instruction">CALL <a class="link" href="24993.html">24993</a></td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=random number</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62394"></a>62394</td>
<td class="instruction">CP 180</td>
<td class="comment-11" rowspan="1">Should the teacher write on the blackboard?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62396"></a>62396</td>
<td class="instruction">JR C,62419</td>
<td class="comment-11" rowspan="1">Jump if not (180 times out of 256)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62398"></a>62398</td>
<td class="instruction">LD BC,29284</td>
<td class="comment-11" rowspan="2">Hand over control to the routine at <a class="link" href="29284.html">29284</a>, making the teacher write on the blackboard</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62401"></a>62401</td>
<td class="instruction">CALL <a class="link" href="31985.html">31985</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<a name="62404"></a>
<div class="comments">
<div class="paragraph">
Control returns here when the teacher has finished writing on the blackboard.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62404"></a>62404</td>
<td class="instruction">CALL <a class="link" href="24993.html">24993</a></td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=random number</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62407"></a>62407</td>
<td class="instruction">CP 160</td>
<td class="comment-11" rowspan="1">Should the teacher tell the kids to write an essay?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62409"></a>62409</td>
<td class="instruction">JR C,62419</td>
<td class="comment-11" rowspan="1">Jump if not (10 times out of 16)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62411"></a>62411</td>
<td class="instruction">LD BC,62166</td>
<td class="comment-11" rowspan="1"><a class="link" href="62166.html">62166</a>: 'WRITE AN ESSAY WITH THIS TITLE'</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62414"></a>62414</td>
<td class="instruction">CALL <a class="link" href="31996.html#32038">32038</a></td>
<td class="comment-11" rowspan="1">Make the teacher tell the kids to write an essay</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62417"></a>62417</td>
<td class="instruction">JR 62429</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62419"></a>62419</td>
<td class="instruction">CALL <a class="link" href="24993.html">24993</a></td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=random number</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62422"></a>62422</td>
<td class="instruction">CP 240</td>
<td class="comment-11" rowspan="1">Is this going to be a questions-and-answers lesson?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62424"></a>62424</td>
<td class="instruction">JR C,<a class="link" href="62464.html">62464</a></td>
<td class="comment-11" rowspan="1">Jump if so (15 times out of 16)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62426"></a>62426</td>
<td class="instruction">CALL <a class="link" href="31996.html">31996</a></td>
<td class="comment-11" rowspan="1">Make the teacher tell the kids to go to a page in their books</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<a name="62429"></a>
<div class="comments">
<div class="paragraph">
Now we enter a loop that makes the teacher walk up and down next to the blackboard (or the map), checking periodically whether ERIC has gone AWOL.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="62429"></a>62429</td>
<td class="instruction">CALL <a class="link" href="31952.html">31952</a></td>
<td class="comment-11" rowspan="1">Is ERIC in class?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62432"></a>62432</td>
<td class="instruction">JP NZ,62213</td>
<td class="comment-11" rowspan="1">Jump if not</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62435"></a>62435</td>
<td class="instruction">LD L,98</td>
<td class="comment-11" rowspan="2">Collect the teacher's x-coordinate from byte 98 of his buffer</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62437"></a>62437</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62438"></a>62438</td>
<td class="instruction">XOR 3</td>
<td class="comment-11" rowspan="1">Now <span class="register">A</span> holds the x-coordinate of the location 1 or 3 spaces behind the teacher</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62440"></a>62440</td>
<td class="instruction">LD L,107</td>
<td class="comment-11" rowspan="4">Place this into byte 107 of his buffer, and the same value into byte 108 (which ensures that the routine at <a class="link" href="25404.html">25404</a> will not relinquish control before the teacher has reached that destination)</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62442"></a>62442</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62443"></a>62443</td>
<td class="instruction">INC L</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62444"></a>62444</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62445"></a>62445</td>
<td class="instruction">LD BC,25404</td>
<td class="comment-11" rowspan="2">Hand over control to the routine at <a class="link" href="25404.html">25404</a>, making the teacher turn round and walk 1 or 3 paces</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62448"></a>62448</td>
<td class="instruction">CALL <a class="link" href="31985.html">31985</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="62451"></a>62451</td>
<td class="instruction">JR 62429</td>
<td class="comment-11" rowspan="1">Make the teacher turn round and walk 1 or 3 paces again</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a class="link" href="62197.html">62197</a></span></td>
<td class="up">Up: <a class="link" href="../maps/all.html#62208">Map</a></td>
<td class="next"><span class="next-1">Next: <a class="link" href="62453.html">62453</a></span></td>
</tr>
</table>
<div class="footer">
<div class="release">The complete Skool Daze RAM disassembly 20150413</div>
<div class="copyright">&#169; 1984 Microsphere Computer Services Ltd (Skool Daze). &#169; 2015 Richard Dymond (this disassembly).</div>
<div class="created">Created using <a class="link" href="http://skoolkit.ca/">SkoolKit</a> 4.3.</div>
</div>
</body>
</html>