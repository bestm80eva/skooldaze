<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Skool Daze: Routine at 31952</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../microsphere.css" />
<link rel="stylesheet" type="text/css" href="../skool.css" />
<link rel="stylesheet" type="text/css" href="../sd.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a class="link" href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a class="link" href="31944.html">31944</a></span></td>
<td class="up">Up: <a class="link" href="../maps/all.html#31952">Map</a></td>
<td class="next"><span class="next-1">Next: <a class="link" href="31968.html">31968</a></span></td>
</tr>
</table>
<div class="description">31952: Check whether ERIC and EINSTEIN are in class</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">
<div class="paragraph">
Used by the routines at <a class="link" href="62208.html">62208</a> and <a class="link" href="62464.html">62464</a>. If EINSTEIN is in class, this routine returns to the caller with the zero flag set if and only if ERIC is present too. If EINSTEIN is not yet sitting down in class, it makes the teacher wait until he shows up.
</div>
</div>
<table class="input-1">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">H</td>
<td class="register-desc">Teacher's character number (163-166)</td>
</tr>
</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="31952"></a>31952</td>
<td class="instruction">LD A,(43360)</td>
<td class="comment-11" rowspan="1"><span class="register">A</span>=EINSTEIN's animatory state</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="31955"></a>31955</td>
<td class="instruction">CP 21</td>
<td class="comment-11" rowspan="1"><a class="link" href="../graphics/as.html#21">21</a>=EINSTEIN sitting in a chair</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="31957"></a>31957</td>
<td class="instruction">JP Z,<a class="link" href="31188.html">31188</a></td>
<td class="comment-11" rowspan="1">Jump if EINSTEIN is sitting in a chair</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="31960"></a>31960</td>
<td class="instruction">POP DE</td>
<td class="comment-11" rowspan="5">Place the address of the instruction that called this routine into bytes 99 and 100 of the teacher's buffer, so that control of the teacher remains in this routine until EINSTEIN is seated</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="31961"></a>31961</td>
<td class="instruction">LD L,99</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="31963"></a>31963</td>
<td class="instruction">LD A,E</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="31964"></a>31964</td>
<td class="instruction">SUB 3</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="31966"></a>31966</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="31967"></a>31967</td>
<td class="instruction">RET</td>
<td class="comment-11" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a class="link" href="31944.html">31944</a></span></td>
<td class="up">Up: <a class="link" href="../maps/all.html#31952">Map</a></td>
<td class="next"><span class="next-1">Next: <a class="link" href="31968.html">31968</a></span></td>
</tr>
</table>
<div class="footer">
<div class="release">The complete Skool Daze RAM disassembly 20140614</div>
<div class="copyright">&#169; 1984 Microsphere Computer Services Ltd (Skool Daze). &#169; 2014 Richard Dymond (this disassembly).</div>
<div class="created">Created using <a class="link" href="http://pyskool.ca/?page_id=177">SkoolKit</a> 4.0.</div>
</div>
</body>
</html>