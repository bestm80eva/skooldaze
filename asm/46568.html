<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Skool Daze: Routine at 46568</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../sd.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a class="link" href="../index.html"><img alt="Skool Daze" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a class="link" href="46463.html">46463</a></span></td>
<td class="up">Up: <a class="link" href="../maps/all.html#46568">Map</a></td>
<td class="next"><span class="next-1">Next: <a class="link" href="46590.html">46590</a></span></td>
</tr>
</table>
<div class="description">46568: Guide a character onto the catwalk or off it</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">
<div class="paragraph">
Used by the routines at <a class="link" href="46056.html">46056</a> and <a class="link" href="61408.html">61408</a>. Makes a character walk in from the left to the middle of the screen (at which point his name may be changed), or from the middle of the screen and off to the right.
</div>
</div>
<table class="input-0">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>

</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="46568"></a>46568</td>
<td class="instruction">LD B,38</td>
<td class="comment-11" rowspan="1">The character will take 38 steps along the catwalk</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="46570"></a>46570</td>
<td class="instruction">PUSH BC</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="46571"></a>46571</td>
<td class="instruction">LD H,152</td>
<td class="comment-11" rowspan="1">This instruction is set by the routine at <a class="link" href="45429.html">45429</a> to either 'LD H,152' (boy) or 'LD H,164' (teacher) as appropriate</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="46573"></a>46573</td>
<td class="instruction">CALL <a class="link" href="46312.html">46312</a></td>
<td class="comment-11" rowspan="1">Move the character one step along the catwalk</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="46576"></a>46576</td>
<td class="instruction">CALL <a class="link" href="65088.html">65088</a></td>
<td class="comment-11" rowspan="1">Make a walking sound effect</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="46579"></a>46579</td>
<td class="instruction">LD C,100</td>
<td class="comment-11" rowspan="4">Pause briefly between steps</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><a name="46581"></a>46581</td>
<td class="instruction">DJNZ 46581</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="46583"></a>46583</td>
<td class="instruction">DEC C</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="46584"></a>46584</td>
<td class="instruction">JR NZ,46581</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="46586"></a>46586</td>
<td class="instruction">POP BC</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="46587"></a>46587</td>
<td class="instruction">DJNZ 46570</td>
<td class="comment-11" rowspan="1">Jump back until 38 steps have been taken</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><a name="46589"></a>46589</td>
<td class="instruction">RET</td>
<td class="comment-11" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a class="link" href="46463.html">46463</a></span></td>
<td class="up">Up: <a class="link" href="../maps/all.html#46568">Map</a></td>
<td class="next"><span class="next-1">Next: <a class="link" href="46590.html">46590</a></span></td>
</tr>
</table>
<div class="footer">
<div class="release">The complete Skool Daze RAM disassembly 20150413</div>
<div class="copyright">&#169; 1984 Microsphere Computer Services Ltd (Skool Daze). &#169; 2015 Richard Dymond (this disassembly).</div>
<div class="created">Created using <a class="link" href="http://skoolkit.ca/">SkoolKit</a> 4.3.</div>
</div>
</body>
</html>