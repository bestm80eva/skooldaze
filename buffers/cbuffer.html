<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Skool Daze: Character buffers</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../microsphere.css" />
<link rel="stylesheet" type="text/css" href="../skool.css" />
<link rel="stylesheet" type="text/css" href="../sd.css" />

</head>
<body class="CharacterBuffers">
<table class="header">
<tr>
<td class="logo"><a class="link" href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Character buffers</td>
</tr>
</table>
<p>The character buffers occupy bytes 96-127 in pages 152-172.</p>
<table class="cbuffer">
<tr>
<th>Page</th>
<th>Address</th>
<th>Character</th>
<td class="transparent"/>
<th>Page</th>
<th>Address</th>
<th>Character</th>
<td class="transparent"/>
<th>Page</th>
<th>Address</th>
<th>Character</th>
</tr>
<tr>
<td class="cbufPage">152</td>
<td class="cbufAddress"><a class="link" href="../asm/39008.html">39008</a></td>
<td class="cbufCharacter">Little boy no. 1</td>
<td class="transparent"/>
<td class="cbufPage">159</td>
<td class="cbufAddress"><a class="link" href="../asm/40800.html">40800</a></td>
<td class="cbufCharacter">Little boy no. 8</td>
<td class="transparent"/>
<td class="cbufPage">166</td>
<td class="cbufAddress"><a class="link" href="../asm/42592.html">42592</a></td>
<td class="cbufCharacter">MR CREAK</td>
</tr>
<tr>
<td class="cbufPage">153</td>
<td class="cbufAddress"><a class="link" href="../asm/39264.html">39264</a></td>
<td class="cbufCharacter">Little boy no. 2</td>
<td class="transparent"/>
<td class="cbufPage">160</td>
<td class="cbufAddress"><a class="link" href="../asm/41056.html">41056</a></td>
<td class="cbufCharacter">Little boy no. 9</td>
<td class="transparent"/>
<td class="cbufPage">167</td>
<td class="cbufAddress"><a class="link" href="../asm/42848.html">42848</a></td>
<td class="cbufCharacter">BOY WANDER</td>
</tr>
<tr>
<td class="cbufPage">154</td>
<td class="cbufAddress"><a class="link" href="../asm/39520.html">39520</a></td>
<td class="cbufCharacter">Little boy no. 3</td>
<td class="transparent"/>
<td class="cbufPage">161</td>
<td class="cbufAddress"><a class="link" href="../asm/41312.html">41312</a></td>
<td class="cbufCharacter">Little boy no. 10</td>
<td class="transparent"/>
<td class="cbufPage">168</td>
<td class="cbufAddress"><a class="link" href="../asm/43104.html">43104</a></td>
<td class="cbufCharacter">ANGELFACE</td>
</tr>
<tr>
<td class="cbufPage">155</td>
<td class="cbufAddress"><a class="link" href="../asm/39776.html">39776</a></td>
<td class="cbufCharacter">Little boy no. 4</td>
<td class="transparent"/>
<td class="cbufPage">162</td>
<td class="cbufAddress"><a class="link" href="../asm/41568.html">41568</a></td>
<td class="cbufCharacter">Little boy no. 11</td>
<td class="transparent"/>
<td class="cbufPage">169</td>
<td class="cbufAddress"><a class="link" href="../asm/43360.html">43360</a></td>
<td class="cbufCharacter">EINSTEIN</td>
</tr>
<tr>
<td class="cbufPage">156</td>
<td class="cbufAddress"><a class="link" href="../asm/40032.html">40032</a></td>
<td class="cbufCharacter">Little boy no. 5</td>
<td class="transparent"/>
<td class="cbufPage">163</td>
<td class="cbufAddress"><a class="link" href="../asm/41824.html">41824</a></td>
<td class="cbufCharacter">MR WACKER</td>
<td class="transparent"/>
<td class="cbufPage">170</td>
<td class="cbufAddress"><a class="link" href="../asm/43616.html">43616</a></td>
<td class="cbufCharacter">BOY WANDER's pellet</td>
</tr>
<tr>
<td class="cbufPage">157</td>
<td class="cbufAddress"><a class="link" href="../asm/40288.html">40288</a></td>
<td class="cbufCharacter">Little boy no. 6</td>
<td class="transparent"/>
<td class="cbufPage">164</td>
<td class="cbufAddress"><a class="link" href="../asm/42080.html">42080</a></td>
<td class="cbufCharacter">MR ROCKITT</td>
<td class="transparent"/>
<td class="cbufPage">171</td>
<td class="cbufAddress"><a class="link" href="../asm/43872.html">43872</a></td>
<td class="cbufCharacter">ERIC's pellet</td>
</tr>
<tr>
<td class="cbufPage">158</td>
<td class="cbufAddress"><a class="link" href="../asm/40544.html">40544</a></td>
<td class="cbufCharacter">Little boy no. 7</td>
<td class="transparent"/>
<td class="cbufPage">165</td>
<td class="cbufAddress"><a class="link" href="../asm/42336.html">42336</a></td>
<td class="cbufCharacter">MR WITHIT</td>
<td class="transparent"/>
<td class="cbufPage">172</td>
<td class="cbufAddress"><a class="link" href="../asm/44128.html">44128</a></td>
<td class="cbufCharacter">ERIC</td>
</tr>
</table>
<p>The bytes in each character buffer are used as follows:</p>
<table class="cbuffer">
<tr>
<th>Byte(s)</th>
<th>Contents</th>
</tr>
<tr>
<td class="cbufBytes">96</td>
<td class="cbufByteDesc">
Animatory state
</td>
</tr>
<tr>
<td class="cbufBytes">97,98</td>
<td class="cbufByteDesc">
Location (y,x)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">99</td>
<td class="cbufByteDesc">
LSB of the primary command routine address (see <a class="link" href="../asm/25126.html">25126</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's post-midstride animatory state (see <a class="link" href="../asm/25856.html">25856</a>, <a class="link" href="../asm/25916.html">25916</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">100</td>
<td class="cbufByteDesc">
MSB of the primary command routine address (see <a class="link" href="../asm/25126.html">25126</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's post-midstride y-coordinate (see <a class="link" href="../asm/25856.html">25856</a>, <a class="link" href="../asm/25916.html">25916</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="3">101</td>
<td class="cbufByteDesc">
Destination y-coordinate (see <a class="link" href="../asm/27090.html">27090</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Walkabout event identifier (see <a class="link" href="../asm/25303.html">25303</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's post-midstride x-coordinate (see <a class="link" href="../asm/25856.html">25856</a>, <a class="link" href="../asm/25916.html">25916</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">102</td>
<td class="cbufByteDesc">
Destination x-coordinate (see <a class="link" href="../asm/27090.html">27090</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ERIC's animatory state before he started firing the catapult, hitting, or jumping (see <a class="link" href="../asm/62574.html">62574</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">103</td>
<td class="cbufByteDesc">
Number of mini-walkabouts remaining (see <a class="link" href="../asm/27453.html">27453</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">104</td>
<td class="cbufByteDesc">
Message repetition delay counter (see <a class="link" href="../asm/63488.html">63488</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">105,106</td>
<td class="cbufByteDesc">
Interruptible subcommand routine address (see <a class="link" href="../asm/25126.html">25126</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="6">107</td>
<td class="cbufByteDesc">
LSB of the address of the next character in the message being written on a blackboard or spoken (see <a class="link" href="../asm/28882.html">28882</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Walkabout destination x-coordinate (see <a class="link" href="../asm/27442.html">27442</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
x-coordinate increment to use while chasing ERIC (see <a class="link" href="../asm/31739.html">31739</a>, <a class="link" href="../asm/31768.html">31768</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Number of movements remaining to ascend or descend the staircase (see <a class="link" href="../asm/25488.html">25488</a>, <a class="link" href="../asm/25534.html">25534</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Number of movements remaining to wipe the blackboard (see <a class="link" href="../asm/29160.html">29160</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Intermediate destination x-coordinate (see <a class="link" href="../asm/25404.html">25404</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="4">108</td>
<td class="cbufByteDesc">
MSB of the address of the next character in the message being written on a blackboard or spoken (see <a class="link" href="../asm/28882.html">28882</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
y-coordinate increment to use while chasing ERIC (see <a class="link" href="../asm/31739.html">31739</a>, <a class="link" href="../asm/31768.html">31768</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
x-coordinate of the next column of the board to wipe (see <a class="link" href="../asm/29160.html">29160</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Number of paces remaining until the next command list restart request check (see <a class="link" href="../asm/25404.html">25404</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="2">109</td>
<td class="cbufByteDesc">
LSB of the address of the next character in the submessage being written on a blackboard or spoken (see <a class="link" href="../asm/28882.html">28882</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
y-coordinate of the top row of the blackboard being wiped (see <a class="link" href="../asm/29160.html">29160</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">110</td>
<td class="cbufByteDesc">
MSB of the address of the next character in the submessage being written on a blackboard or spoken (see <a class="link" href="../asm/28882.html">28882</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">111,112</td>
<td class="cbufByteDesc">
Uninterruptible subcommand routine address (see <a class="link" href="../asm/25126.html">25126</a>)
</td>
</tr>
<tr>
<td class="cbufBytes" rowspan="4">113</td>
<td class="cbufByteDesc">
Counter determining how much longer the character will stay down after being punched (see <a class="link" href="../asm/28569.html">28569</a>), hit by a catapult pellet (see <a class="link" href="../asm/27932.html">27932</a>), knocked out of a chair (see <a class="link" href="../asm/27733.html">27733</a>), or tripped up by a stampeding kid (see <a class="link" href="../asm/27126.html">27126</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
Distance remaining for the pellet to travel (see <a class="link" href="../asm/27932.html">27932</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
ANGELFACE's pre-punch animatory state (see <a class="link" href="../asm/28446.html">28446</a>, <a class="link" href="../asm/28642.html">28642</a>)
</td>
</tr>
<tr>
<td class="cbufByteDesc">
BOY WANDER's pre-fire animatory state (see <a class="link" href="../asm/28716.html">28716</a>, <a class="link" href="../asm/28786.html">28786</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">114</td>
<td class="cbufByteDesc">
Pre-knockout animatory state (see <a class="link" href="../asm/27206.html">27206</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">115,116</td>
<td class="cbufByteDesc">
Unused
</td>
</tr>
<tr>
<td class="cbufBytes">117,118</td>
<td class="cbufByteDesc">
Address reached in the command list
</td>
</tr>
<tr>
<td class="cbufBytes">119,120</td>
<td class="cbufByteDesc">
Start address of the command list
</td>
</tr>
<tr>
<td class="cbufBytes">121</td>
<td class="cbufByteDesc">
Unused (always 0, but checked by <a class="link" href="../asm/25126.html">25126</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">122</td>
<td class="cbufByteDesc">
Various flags; initially populated by <a class="link" href="../asm/26880.html">26880</a> with 0 for kids, 16 (bit 4 set) for teachers, and 32 (bit 5 set) for catapult pellets:
<table class="default">
<tr>
<th>Bit(s)</th>
<th>Meaning if set</th>
</tr>
<tr>
<td class="centre">0</td>
<td>Restart the command list at the next opportunity if bit 1 is reset (see <a class="link" href="../asm/25126.html">25126</a>)</td>
</tr>
<tr>
<td class="centre">1</td>
<td>Always reset</td>
</tr>
<tr>
<td class="centre">2-3</td>
<td>Unused</td>
</tr>
<tr>
<td class="centre">4</td>
<td>Character is a teacher (checked by <a class="link" href="../asm/25367.html">25367</a>)</td>
</tr>
<tr>
<td class="centre">5</td>
<td>Character is walking fast continuously (set for pellets and stampeding boys; see <a class="link" href="../asm/27246.html">27246</a>)</td>
</tr>
<tr>
<td class="centre">6</td>
<td>Character is walking slowly continuously (always reset, but checked by <a class="link" href="../asm/25367.html">25367</a>)</td>
</tr>
<tr>
<td class="centre">7</td>
<td>Character is walking slowly (see <a class="link" href="../asm/25266.html">25266</a>)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td class="cbufBytes">123</td>
<td class="cbufByteDesc">
Walking speed change delay counter (see <a class="link" href="../asm/25266.html">25266</a>, <a class="link" href="../asm/32234.html">32234</a>, <a class="link" href="../asm/32242.html">32242</a>, <a class="link" href="../asm/64016.html">64016</a>)
</td>
</tr>
<tr>
<td class="cbufBytes">124,125</td>
<td class="cbufByteDesc">
Continual subcommand routine address (see <a class="link" href="../asm/25126.html">25126</a>); set to <a class="link" href="../asm/25126.html#25247">25247</a> initially by <a class="link" href="../asm/26880.html">26880</a>
</td>
</tr>
<tr>
<td class="cbufBytes">126,127</td>
<td class="cbufByteDesc">
Unused
</td>
</tr>
</table>
<div class="footer">
<div class="release">The complete Skool Daze RAM disassembly 20140614</div>
<div class="copyright">&#169; 1984 Microsphere Computer Services Ltd (Skool Daze). &#169; 2014 Richard Dymond (this disassembly).</div>
<div class="created">Created using <a class="link" href="http://pyskool.ca/?page_id=177">SkoolKit</a> 4.0.</div>
</div>
</body>
</html>